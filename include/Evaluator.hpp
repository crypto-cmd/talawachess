
#pragma once
#include "Board.hpp"
#include "Piece.hpp"
namespace talawachess::bot::evaluator {

static constexpr int PieceValues[7]= {0, 100, 300, 350, 500, 900, 20000}; // NONE, PAWN, KNIGHT, BISHOP, ROOK, QUEEN, KING

// clang-format off
inline constexpr std::array<std::array<int, 64>, 7> PieceSquareTables= {{
    {{}}, // NONE
    {{    // PAWN
    0,   0,   0,   0,   0,   0,   0,   0, // Rank 8 (Promotion)
     98, 134,  61,  95,  68, 126,  34, -11, // Rank 7
     -6,   7,  26,  31,  65,  56,  25, -20, // Rank 6
    -14,  13,   6,  21,  23,  12,  17, -23, // Rank 5
    -27,  -2,  -5,  12,  17,   6,  10, -25, // Rank 4
    -26,  -4,  -4, -10,   3,   3,  33, -12, // Rank 3
    -35,  -1, -20, -23, -15,  24,  38, -22, // Rank 2
      0,   0,   0,   0,   0,   0,   0,   0  // Rank 1
    }},
     {{// KNIGHT
      -167, -89, -34, -49,  61, -97, -15, -107, // Rank 8
    -73, -41,  72,  36,  23,  62,   7,  -17, // Rank 7
    -47,  60,  37,  65,  84, 129,  73,   44, // Rank 6
     -9,  17,  19,  53,  37,  69,  18,   22, // Rank 5
    -13,   4,  16,  13,  28,  19,  21,   -8, // Rank 4
    -23,  -9,  12,  10,  19,  17,  28,  -16, // Rank 3
    -29, -53, -12,  -3,  -1,  18, -14,  -19, // Rank 2
   -105, -21, -58, -33, -17, -28, -19,  -23  // Rank 1
   }},
     {{// BISHOP
       -29, -25, -15,  -5,  -5, -15, -25, -29, // Rank 8
    -20,  10,  15,  20,  20,  15,  10, -20, // Rank 7
    -15,  15,  30,  35,  35,  30,  15, -15, // Rank 6
    -10,  20,  35,  45,  45,  35,  20, -10, // Rank 5
    -10,  20,  35,  45,  45,  35,  20, -10, // Rank 4
    -15,  15,  30,  35,  35,  30,  15, -15, // Rank 3
    -20,  25,  15,  20,  20,  15,  25, -20, // Rank 2
    -30, -20, -10, -15, -15, -10, -20, -30  // Rank 1
    }},
     {{// ROOK
       15,  15,  15,  20,  20,  15,  15,  15, // Rank 8
     60,  60,  60,  60,  60,  60,  60,  60, // Rank 7 
     10,  10,  10,  10,  10,  10,  10,  10, // Rank 6
      0,   0,   0,   0,   0,   0,   0,   0, // Rank 5
      0,   0,   0,   0,   0,   0,   0,   0, // Rank 4
     -5,  -5,  -5,  -5,  -5,  -5,  -5,  -5, // Rank 3
    -10, -10, -10, -10, -10, -10, -10, -10, // Rank 2
    -15, -10,   0,  15,  15,   0, -10, -15  // Rank 1
    }},
     {{// QUEEN
       -20, -10, -10,  -5,  -5, -10, -10, -20, // Rank 8
    -10,   0,   5,   5,   5,   5,   0, -10, // Rank 7
      0,   5,  10,  15,  15,  10,   5,   0, // Rank 6
      0,   5,  15,  20,  20,  15,   5,   0, // Rank 5
      0,   5,  15,  20,  20,  15,   5,   0, // Rank 4
      0,   5,  10,  15,  15,  10,   5,   0, // Rank 3
    -10,   0,   5,   5,   5,   5,   0, -10, // Rank 2
    -20, -10, -10,  -5,  -5, -10, -10, -20  // Rank 1
    }},
     {{// KING
       -50, -50, -50, -50, -50, -50, -50, -50, // Rank 8
    -50, -50, -50, -50, -50, -50, -50, -50, // Rank 7
    -50, -50, -50, -50, -50, -50, -50, -50, // Rank 6
    -50, -50, -50, -50, -50, -50, -50, -50, // Rank 5
    -50, -50, -50, -50, -50, -50, -50, -50, // Rank 4
    -40, -40, -40, -40, -40, -40, -40, -40, // Rank 3
    -20, -20, -20, -20, -20, -20, -20, -20, // Rank 2
     10,  30,  10, -20, -20,  10,  30,  10  // Rank 1
     }}
    }};
// clang-format on
int GetStaticPositionalPieceValue(core::Piece::Piece piece, int squareIndex);
int evaluate(const talawachess::core::board::Board& board);

} // namespace talawachess::bot::evaluator
